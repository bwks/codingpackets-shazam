



<!DOCTYPE html>
<html lang="en" class="dark scroll-smooth scroll-pt-[4.5rem]">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    
      <link rel="shortcut icon" href="/favicon/favicon.ico" type="image/x-icon">
    
    
    
      <link rel="stylesheet" href="/css/highlightjs/tokyo-night-dark.min.css">
      <link rel="stylesheet" href="/css/fontawesome/css/all.min.css">
    

    
      <link rel="stylesheet" href="/css/app.css">
    

    
      <script src="/js/highlightjs/highlightjs-11.7.0.min.js"></script>
      <script src="/js/highlightjs/terraform.js"></script>
      <script defer src="/js/fontawesome/js/all.js"></script>
    

    
      <script defer src="/js/custom/back-to-top.js"></script>
      <script defer src="/js/custom/light-switch.js"></script>
      <script defer src="/js/custom/scrollspy.min.js"></script>
      <script defer="">
        window.onload = function () {
          scrollSpy('#table-of-contents', {
            sectionClass: '.scrollspy',
            menuActiveTarget: '.menu-item',
            offset: 100,
            // scrollContainer: null,
            // smooth scroll
            // smoothScroll: true,
            // smoothScrollBehavior: function(element) {
            //   console.log('run "smoothScrollBehavior"...', element)
            //   element.scrollIntoView({ behavior: 'smooth' })
            // }
          })
        }
      </script>
    

    
      <script>
        hljs.registerLanguage('terraform', window.hljsDefineTerraform);
        hljs.highlightAll();
      </script>
    

    
    

    <title>codingpackets.com</title>
  </head>

  <body class="bg-stone-50 dark:bg-black tracking-wide">

    <!-- NAVBAR START -->
<nav id="navbar" class="w-full py-3 bg-zinc-900 text-xl shadow-lg fixed inset-x-0 top-0 z-50">
  <div class="font-serif font-bold tracking-wide flex justify-center items-center py-1">
    <div>
      <a class="text-neutral-400 hover:text-neutral-100 p-0" href="/">Me</a>
    </div>
    <div class="px-4">
      <p class="text-neutral-400 p-0">|</p>
    </div>
    <div>
      <a class="text-neutral-400 hover:text-neutral-100" href="/blog/">Blog</a>
    </div>
    <div class="px-4">
      <p class="text-neutral-400 p-0">|</p>
    </div>
    <div>
      <a class="text-neutral-400 hover:text-neutral-100" href="/blog/recent/">Recent</a>
    </div>
    <div class="px-4">
      <p class="text-neutral-400 p-0">|</p>
    </div>
    <div class="-mt-6 -ml-1">
      <labeL class="relative inline-block">
        <input type="checkbox" id="light-switch" class="opacity-0 w-0 h-0">
        <img id="light-bulb" class="opacity-90 hover:opacity-60 dark:opacity-60 dark:hover:opacity-100 p-0 w-7" src="/img/light-bulb-64-light.png" alt="on/off">
      </labeL>
    </div>
  </div>  
</nav>
<!-- NAVBAR END -->

    <div class="w-full">
      
  
    
<!-- PAGE HEADER START -->
<div class="grid grid-cols-12 gap-8">
  <div class="invisible md:visible md:col-span-3">
  </div>

  <div class="col-span-12 px-5 md:col-span-6">
    <div id="page-header" class="text-center md:pt-20 md:pb-4 md:mb-0 pt-12 pb-0 -mb-12">
      <h1 class="pb-1 md:pb-2">Mikrotik Config Cheatsheet</h1>
      
      
        <p class="text-neutral-500 dark:text-neutral-600 text-lg italic py-0">
          published: 8th of December 2022
        </p>
      
    </div>
  </div>

  <div class="invisible md:visible md:col-span-3">
  </div>
</div>
<!-- PAGE HEADER END -->

  


      <!-- CONTENT START -->
      <div class="grid grid-cols-12 gap-8">

        <!-- COLUMN 1 START -->
        <div class="invisible md:visible md:col-span-3">
        </div>
        <!-- COLUMN 1 END -->

        <!-- COLUMN 2 START -->
        <div class="col-span-12 px-5 md:col-span-6">
          <div class="text-xl text-gray-800 dark:text-neutral-400 font-medium leading-relaxed md:leading-relaxed">
            

<h3 id="intro">Intro</h3>
<p>
  I recently purchased a Mikrotik switch for my lab network 
  to replace my ageing Juniper switches. I am documenting the 
  process to get connected and configure common scenarios here 
  for future Brad and anyone else that might be Mikrotik curious.
</p>

<h3 id="lab-environment">Lab Environment</h3>
<p>
  The following harware and software was used in this post.
</p>
<ul>
  <li>Mikrotik CRS326-24G-2S+ - RouterOS 7.6</li>
</ul>

<h3 id="administration">Administration</h3>

<h4>Connectivity</h4>
<p>
  Default connectivity options to configure the device are via 
  the <span class="px-2 py-1 font-mono font-semibold break-words rounded bg-sky-50 text-sky-900 border border-sky-200/50 dark:bg-zinc-900 dark:text-neutral-400 dark:border-zinc-800">serial console</span> port or by 
  IP with one of the <span class="px-2 py-1 font-mono font-semibold break-words rounded bg-sky-50 text-sky-900 border border-sky-200/50 dark:bg-zinc-900 dark:text-neutral-400 dark:border-zinc-800">ethernet</span> ports.
</p>
<p>
  The console settings for the <span class="px-2 py-1 font-mono font-semibold break-words rounded bg-sky-50 text-sky-900 border border-sky-200/50 dark:bg-zinc-900 dark:text-neutral-400 dark:border-zinc-800">CRS326</span> are as follows:
</p>

<!-- TABLE DEFAULT START -->
<div id="table-default" class="py-2 text-xl font-mono tracking-normal">
  <div class="rounded-md shadow-md shadow-zinc-400 dark:shadow-zinc-900 overflow-auto">
    <table class="table-auto w-full">
      <thead class="text-center">
        <tr class="bg-zinc-900 text-neutral-400 dark:text-neutral-400">
        
          
            <th class="py-1 px-2 border-b border-r border-zinc-800">Parameter</th>
          
        
          
            <th class="py-1 px-2 border-b border-zinc-800">Value</th>
          
        
        </tr>
      </thead>
      <tbody>
      
        
        
          <tr class="border-b border-zinc-800">
        
          
            
              <td class="px-2 pt-1 pb-2 border-r border-zinc-800">Speed </td>
            
          
            
              <td class="px-2 pt-1 pb-2 border-l border-zinc-800"> 115200</td>
            
          
        </tr>
      
        
        
          <tr class="border-b border-zinc-800">
        
          
            
              <td class="px-2 pt-1 pb-2 border-r border-zinc-800">Data Bits </td>
            
          
            
              <td class="px-2 pt-1 pb-2 border-l border-zinc-800"> 8</td>
            
          
        </tr>
      
        
        
          <tr class="border-b border-zinc-800">
        
          
            
              <td class="px-2 pt-1 pb-2 border-r border-zinc-800">Stop Bits </td>
            
          
            
              <td class="px-2 pt-1 pb-2 border-l border-zinc-800"> 1</td>
            
          
        </tr>
      
        
        
          <tr class="border-b border-zinc-800">
        
          
            
              <td class="px-2 pt-1 pb-2 border-r border-zinc-800">Parity </td>
            
          
            
              <td class="px-2 pt-1 pb-2 border-l border-zinc-800"> None</td>
            
          
        </tr>
      
        
        
          <tr class="">
        
          
            
              <td class="px-2 pt-1 pb-2 border-r border-zinc-800">Flow Control </td>
            
          
            
              <td class="px-2 pt-1 pb-2 border-l border-zinc-800"> RTS/CTS</td>
            
          
        </tr>
      
      </tbody>
    </table>
  </div>
</div>
<!-- TABLE DEFAULT END -->


<p>
  There is a default network configured that allows you to connect 
  by IP. The default network is <span class="px-2 py-1 font-mono font-semibold break-words rounded bg-sky-50 text-sky-900 border border-sky-200/50 dark:bg-zinc-900 dark:text-neutral-400 dark:border-zinc-800">192.168.88.0/24</span>
  and the devices IP address is <span class="px-2 py-1 font-mono font-semibold break-words rounded bg-sky-50 text-sky-900 border border-sky-200/50 dark:bg-zinc-900 dark:text-neutral-400 dark:border-zinc-800">192.168.88.1</span>.
</p>

<h4>Management Tools</h4>
<p>
  There are a number of tools available to manage Mikrotik devices.
</p>
<ul>
  <li>CLI via <span class="px-2 py-1 font-mono font-semibold break-words rounded bg-sky-50 text-sky-900 border border-sky-200/50 dark:bg-zinc-900 dark:text-neutral-400 dark:border-zinc-800">Telnet</span> or <span class="px-2 py-1 font-mono font-semibold break-words rounded bg-sky-50 text-sky-900 border border-sky-200/50 dark:bg-zinc-900 dark:text-neutral-400 dark:border-zinc-800">SSH</span>.</li>
  <li>HTTP via <span class="px-2 py-1 font-mono font-semibold break-words rounded bg-sky-50 text-sky-900 border border-sky-200/50 dark:bg-zinc-900 dark:text-neutral-400 dark:border-zinc-800">WebFig</span> and <span class="px-2 py-1 font-mono font-semibold break-words rounded bg-sky-50 text-sky-900 border border-sky-200/50 dark:bg-zinc-900 dark:text-neutral-400 dark:border-zinc-800">REST API</span>.</li>
  <li>On Windows, the <span class="px-2 py-1 font-mono font-semibold break-words rounded bg-sky-50 text-sky-900 border border-sky-200/50 dark:bg-zinc-900 dark:text-neutral-400 dark:border-zinc-800">Winbox</span> application (PC Master Race FTW).</li>
</ul>

<h4>Default Credentials</h4>
<p>
  The default username is <span class="px-2 py-1 font-mono font-semibold break-words rounded bg-sky-50 text-sky-900 border border-sky-200/50 dark:bg-zinc-900 dark:text-neutral-400 dark:border-zinc-800">admin</span> with no password.
</p>

<h3 id="software-update">Software Update</h3>
<p>
  Upgrading the software is pretty straight forward. Copy the desired image to 
  the root of the file system and reboot. 
  I used the <span class="px-2 py-1 font-mono font-semibold break-words rounded bg-sky-50 text-sky-900 border border-sky-200/50 dark:bg-zinc-900 dark:text-neutral-400 dark:border-zinc-800">Winbox</span> GUI tool to copy the image to 
  the device and also reboot. A detailed process can be found in the docs 
  <a class="  break-words text-rose-600 no-underline hover:decoration-2 hover:underline hover:underline-offset-4" href="https://wiki.mikrotik.com/wiki/Manual:Upgrading_RouterOS" target=_blank>here</a>.
</p>

<h3 id="hostname">Hostname</h3>
<p>
  The hostname configuration is set in the 
  <span class="px-2 py-1 font-mono font-semibold break-words rounded bg-zinc-900 border border-zinc-800 text-emerald-400 dark:text-emerald-700">system/identity/</span> section.
</p>

<!-- CODE BLOCK START -->
<div id="code-block" class="py-2">
  <div class="border-4 rounded-t-lg border-b-4 py-1 text-center font-bold font-mono border-zinc-800 dark:bg-[#1a1b26]">
    <span class="">cmd</span>
  </div>
  <div class="font-mono leading-tight">
    <pre class=""><code class="language-text hljs px-5 border-b-4 border-l-4 border-r-4 border-zinc-800 rounded-b-lg">system/identity/set name=&lt;hostname&gt;</code></pre>
  </div>
</div>
<!-- CODE BLOCK END -->


<p>
  Confirm the <span class="px-2 py-1 font-mono font-semibold break-words rounded bg-sky-50 text-sky-900 border border-sky-200/50 dark:bg-zinc-900 dark:text-neutral-400 dark:border-zinc-800">hostname</span> with the 
  <span class="px-2 py-1 font-mono font-semibold break-words rounded bg-zinc-900 border border-zinc-800 text-emerald-400 dark:text-emerald-700">system/identity/print</span> command.
</p>


<!-- CODE BLOCK START -->
<div id="code-block" class="py-2">
  <div class="border-4 rounded-t-lg border-b-4 py-1 text-center font-bold font-mono border-zinc-800 dark:bg-[#1a1b26]">
    <span class="">cmd</span>
  </div>
  <div class="font-mono leading-tight">
    <pre class=""><code class="language-text hljs px-5 border-b-4 border-l-4 border-r-4 border-zinc-800 rounded-b-lg">system/identity/print 

name: &lt;hostname&gt;</code></pre>
  </div>
</div>
<!-- CODE BLOCK END -->


<h3 id="bridge">Bridge</h3>
<p>
  In Mikrotik land, a <span class="px-2 py-1 font-mono font-semibold break-words rounded bg-sky-50 text-sky-900 border border-sky-200/50 dark:bg-zinc-900 dark:text-neutral-400 dark:border-zinc-800">bridge</span> is a 
  logical grouping of interfaces. 
  Bridge config lives in the <span class="px-2 py-1 font-mono font-semibold break-words rounded bg-zinc-900 border border-zinc-800 text-emerald-400 dark:text-emerald-700">interface/bridge/</span> section.
  
</p>
<p>
  The below example creates a bridge, enables VLAN filtering and sets the 
  native VLAN.
</p>

<!-- CODE BLOCK START -->
<div id="code-block" class="py-2">
  <div class="border-4 rounded-t-lg border-b-4 py-1 text-center font-bold font-mono border-zinc-800 dark:bg-[#1a1b26]">
    <span class="">cmd</span>
  </div>
  <div class="font-mono leading-tight">
    <pre class=""><code class="language-text hljs px-5 border-b-4 border-l-4 border-r-4 border-zinc-800 rounded-b-lg">interface/bridge/add name=&lt;bridge-name&gt; vlan-filtering=yes pvid=&lt;vlan-id&gt;</code></pre>
  </div>
</div>
<!-- CODE BLOCK END -->


<h3 id="vlan">VLAN</h3>
<p>
  VLAN's are added to bridges and are configured under the 
  <span class="px-2 py-1 font-mono font-semibold break-words rounded bg-zinc-900 border border-zinc-800 text-emerald-400 dark:text-emerald-700">interface/bridge/vlan/</span> section.
</p>


<!-- CODE BLOCK START -->
<div id="code-block" class="py-2">
  <div class="border-4 rounded-t-lg border-b-4 py-1 text-center font-bold font-mono border-zinc-800 dark:bg-[#1a1b26]">
    <span class="">cmd</span>
  </div>
  <div class="font-mono leading-tight">
    <pre class=""><code class="language-text hljs px-5 border-b-4 border-l-4 border-r-4 border-zinc-800 rounded-b-lg">interface/bridge/vlan/add name=&lt;bridge-name&gt; vlan-ids=&lt;vlan-id&gt;</code></pre>
  </div>
</div>
<!-- CODE BLOCK END -->


<h3 id="access-port">Access Port</h3>
<p>
  <span class="px-2 py-1 font-mono font-semibold break-words rounded bg-sky-50 text-sky-900 border border-sky-200/50 dark:bg-zinc-900 dark:text-neutral-400 dark:border-zinc-800">Access</span> ports are defined by applying the <span class="px-2 py-1 font-mono font-semibold break-words rounded bg-sky-50 text-sky-900 border border-sky-200/50 dark:bg-zinc-900 dark:text-neutral-400 dark:border-zinc-800">untagged</span> 
  property to an interface.
</p>


<!-- CODE BLOCK START -->
<div id="code-block" class="py-2">
  <div class="border-4 rounded-t-lg border-b-4 py-1 text-center font-bold font-mono border-zinc-800 dark:bg-[#1a1b26]">
    <span class="">cmd</span>
  </div>
  <div class="font-mono leading-tight">
    <pre class=""><code class="language-text hljs px-5 border-b-4 border-l-4 border-r-4 border-zinc-800 rounded-b-lg">interface/bridge/vlan/add bridge=&lt;bridge-name&gt; untagged=&lt;interface-name&gt;,&lt;interface-name&gt; vlan-ids=&lt;vlan-id&gt;</code></pre>
  </div>
</div>
<!-- CODE BLOCK END -->


<p>
  It's possible to also set the native VLAN for an interface.
</p>


<!-- CODE BLOCK START -->
<div id="code-block" class="py-2">
  <div class="border-4 rounded-t-lg border-b-4 py-1 text-center font-bold font-mono border-zinc-800 dark:bg-[#1a1b26]">
    <span class="">cmd</span>
  </div>
  <div class="font-mono leading-tight">
    <pre class=""><code class="language-text hljs px-5 border-b-4 border-l-4 border-r-4 border-zinc-800 rounded-b-lg">interface/bridge/port/add bridge=&lt;bridge-name&gt; interface=&lt;interface-name&gt; pvid=&lt;vlan-id&gt;</code></pre>
  </div>
</div>
<!-- CODE BLOCK END -->


<h3 id="trunk-port">Trunk Port</h3>
<p>
  <span class="px-2 py-1 font-mono font-semibold break-words rounded bg-sky-50 text-sky-900 border border-sky-200/50 dark:bg-zinc-900 dark:text-neutral-400 dark:border-zinc-800">Trunk</span> ports are defined by applying the <span class="px-2 py-1 font-mono font-semibold break-words rounded bg-sky-50 text-sky-900 border border-sky-200/50 dark:bg-zinc-900 dark:text-neutral-400 dark:border-zinc-800">tagged</span> 
  property to an interface.
</p>


<!-- CODE BLOCK START -->
<div id="code-block" class="py-2">
  <div class="border-4 rounded-t-lg border-b-4 py-1 text-center font-bold font-mono border-zinc-800 dark:bg-[#1a1b26]">
    <span class="">cmd</span>
  </div>
  <div class="font-mono leading-tight">
    <pre class=""><code class="language-text hljs px-5 border-b-4 border-l-4 border-r-4 border-zinc-800 rounded-b-lg">interface/bridge/vlan/add bridge=&lt;bridge-name&gt; tagged=ether15 vlan-ids=&lt;vlan-ids&gt;</code></pre>
  </div>
</div>
<!-- CODE BLOCK END -->



<h3 id="vlan-interface">VLAN Interface</h3>
<p>
  VLAN interfaces are logical Layer 3 interface assigned to 
  a VLAN that have an IP address and are similar to SVI's or IRB's 
  on other vendor platforms.
</p>

<p>
  The below example configures a VLAN interface and assigns and IP address.
</p>


<!-- CODE BLOCK START -->
<div id="code-block" class="py-2">
  <div class="border-4 rounded-t-lg border-b-4 py-1 text-center font-bold font-mono border-zinc-800 dark:bg-[#1a1b26]">
    <span class="">cmd</span>
  </div>
  <div class="font-mono leading-tight">
    <pre class=""><code class="language-text hljs px-5 border-b-4 border-l-4 border-r-4 border-zinc-800 rounded-b-lg">interface/vlan/add interface=&lt;bridge-name&gt; name=&lt;vlan-name&gt; vlan-id=&lt;vlan-id&gt;
ip/address/add address=&lt;ip-address&gt;/&lt;prefix-length&gt; interface=&lt;vlan-name&gt; network=&lt;network-address&gt;</code></pre>
  </div>
</div>
<!-- CODE BLOCK END -->


<h3 id="static-route">Static Route</h3>
<p>
  Create a static default route. Routes are configured under the 
  <span class="px-2 py-1 font-mono font-semibold break-words rounded bg-zinc-900 border border-zinc-800 text-emerald-400 dark:text-emerald-700">ip/route/</span> section.
</p>


<!-- CODE BLOCK START -->
<div id="code-block" class="py-2">
  <div class="border-4 rounded-t-lg border-b-4 py-1 text-center font-bold font-mono border-zinc-800 dark:bg-[#1a1b26]">
    <span class="">cmd</span>
  </div>
  <div class="font-mono leading-tight">
    <pre class=""><code class="language-text hljs px-5 border-b-4 border-l-4 border-r-4 border-zinc-800 rounded-b-lg">ip/route/add disabled=no dst-address=0.0.0.0/0 gateway=&lt;gateway-ip&gt; routing-table=main suppress-hw-offload=no</code></pre>
  </div>
</div>
<!-- CODE BLOCK END -->


<h3 id="dns-client">DNS Client</h3>
<p>
  DNS servers are set under the <span class="px-2 py-1 font-mono font-semibold break-words rounded bg-zinc-900 border border-zinc-800 text-emerald-400 dark:text-emerald-700">ip/dns/</span> section.
</p>


<!-- CODE BLOCK START -->
<div id="code-block" class="py-2">
  <div class="border-4 rounded-t-lg border-b-4 py-1 text-center font-bold font-mono border-zinc-800 dark:bg-[#1a1b26]">
    <span class="">cmd</span>
  </div>
  <div class="font-mono leading-tight">
    <pre class=""><code class="language-text hljs px-5 border-b-4 border-l-4 border-r-4 border-zinc-800 rounded-b-lg">ip/dns/set servers=&lt;server-1&gt;,&lt;server-2&gt;</code></pre>
  </div>
</div>
<!-- CODE BLOCK END -->


<p>
  Confirm the DNS configuration with the <span class="px-2 py-1 font-mono font-semibold break-words rounded bg-zinc-900 border border-zinc-800 text-emerald-400 dark:text-emerald-700">ip/dns/print</span>
  command.
</p>


<!-- CODE BLOCK START -->
<div id="code-block" class="py-2">
  <div class="border-4 rounded-t-lg border-b-4 py-1 text-center font-bold font-mono border-zinc-800 dark:bg-[#1a1b26]">
    <span class="">cmd</span>
  </div>
  <div class="font-mono leading-tight">
    <pre class=""><code class="language-text hljs px-5 border-b-4 border-l-4 border-r-4 border-zinc-800 rounded-b-lg">ip/dns/print

                    servers: &lt;server-1&gt;,&lt;server-2&gt;
            dynamic-servers: 
             use-doh-server: 
            verify-doh-cert: no
      allow-remote-requests: no
        max-udp-packet-size: 4096
       query-server-timeout: 2s
        query-total-timeout: 10s
     max-concurrent-queries: 100
max-concurrent-tcp-sessions: 20
                 cache-size: 2048KiB
              cache-max-ttl: 1w
                 cache-used: 28KiB</code></pre>
  </div>
</div>
<!-- CODE BLOCK END -->


<p>
  Confirm name resolution works by <span class="px-2 py-1 font-mono font-semibold break-words rounded bg-sky-50 text-sky-900 border border-sky-200/50 dark:bg-zinc-900 dark:text-neutral-400 dark:border-zinc-800">pinging</span> 
  a host by domain name.
</p>


<!-- CODE BLOCK START -->
<div id="code-block" class="py-2">
  <div class="border-4 rounded-t-lg border-b-4 py-1 text-center font-bold font-mono border-zinc-800 dark:bg-[#1a1b26]">
    <span class="">cmd</span>
  </div>
  <div class="font-mono leading-tight">
    <pre class=""><code class="language-text hljs px-5 border-b-4 border-l-4 border-r-4 border-zinc-800 rounded-b-lg">ping codingpackets.com

SEQ HOST                                     SIZE TTL TIME       STATUS                                              
  0 13.224.174.66                              56 245 24ms339us 
  1 13.224.174.66                              56 245 22ms431us 
  2 13.224.174.66                              56 245 19ms577us 
  sent=3 received=3 packet-loss=0% min-rtt=19ms577us avg-rtt=22ms115us max-rtt=24ms339us</code></pre>
  </div>
</div>
<!-- CODE BLOCK END -->


<h3 id="ntp-client">NTP Client</h3>
<p>
  NTP servers are set under the <span class="px-2 py-1 font-mono font-semibold break-words rounded bg-zinc-900 border border-zinc-800 text-emerald-400 dark:text-emerald-700">system/ntp/client/</span> section.
</p>


<!-- CODE BLOCK START -->
<div id="code-block" class="py-2">
  <div class="border-4 rounded-t-lg border-b-4 py-1 text-center font-bold font-mono border-zinc-800 dark:bg-[#1a1b26]">
    <span class="">cmd</span>
  </div>
  <div class="font-mono leading-tight">
    <pre class=""><code class="language-text hljs px-5 border-b-4 border-l-4 border-r-4 border-zinc-800 rounded-b-lg">system/ntp/client/set enabled=yes mode=unicast servers=&lt;server-1&gt;,&lt;server-2&gt;</code></pre>
  </div>
</div>
<!-- CODE BLOCK END -->


<p>
  Confirm the NTP configuration with the <span class="px-2 py-1 font-mono font-semibold break-words rounded bg-zinc-900 border border-zinc-800 text-emerald-400 dark:text-emerald-700">system/ntp/client/print</span>
  command.
</p>


<!-- CODE BLOCK START -->
<div id="code-block" class="py-2">
  <div class="border-4 rounded-t-lg border-b-4 py-1 text-center font-bold font-mono border-zinc-800 dark:bg-[#1a1b26]">
    <span class="">cmd</span>
  </div>
  <div class="font-mono leading-tight">
    <pre class=""><code class="language-text hljs px-5 border-b-4 border-l-4 border-r-4 border-zinc-800 rounded-b-lg">system/ntp/client/print

       enabled: yes
          mode: unicast
       servers: &lt;server-1&gt;,&lt;server-2&gt;
           vrf: main
    freq-drift: 0 PPM
        status: synchronized
 synced-server: &lt;server-1&gt;
synced-stratum: 2
 system-offset: 1.474 ms</code></pre>
  </div>
</div>
<!-- CODE BLOCK END -->


<p>
  See the current time with the <span class="px-2 py-1 font-mono font-semibold break-words rounded bg-zinc-900 border border-zinc-800 text-emerald-400 dark:text-emerald-700">system/clock/print</span>
  command
</p>


<!-- CODE BLOCK START -->
<div id="code-block" class="py-2">
  <div class="border-4 rounded-t-lg border-b-4 py-1 text-center font-bold font-mono border-zinc-800 dark:bg-[#1a1b26]">
    <span class="">cmd</span>
  </div>
  <div class="font-mono leading-tight">
    <pre class=""><code class="language-text hljs px-5 border-b-4 border-l-4 border-r-4 border-zinc-800 rounded-b-lg">system/clock/print

                time: 21:07:48
                date: dec/08/2022
time-zone-autodetect: yes
      time-zone-name: Australia/Brisbane
          gmt-offset: +10:00
          dst-active: no</code></pre>
  </div>
</div>
<!-- CODE BLOCK END -->


<h3 id="lldp-client">LLDP Client</h3>
<p>
  LLDP is configured under the <span class="px-2 py-1 font-mono font-semibold break-words rounded bg-zinc-900 border border-zinc-800 text-emerald-400 dark:text-emerald-700">ip/neighbor/discovery-settings/</span>
  section.
</p>


<!-- CODE BLOCK START -->
<div id="code-block" class="py-2">
  <div class="border-4 rounded-t-lg border-b-4 py-1 text-center font-bold font-mono border-zinc-800 dark:bg-[#1a1b26]">
    <span class="">cmd</span>
  </div>
  <div class="font-mono leading-tight">
    <pre class=""><code class="language-text hljs px-5 border-b-4 border-l-4 border-r-4 border-zinc-800 rounded-b-lg">ip/neighbor/discovery-settings/set protocol=lldp</code></pre>
  </div>
</div>
<!-- CODE BLOCK END -->


<p>
  Confirm the LLDP configuration with the <span class="px-2 py-1 font-mono font-semibold break-words rounded bg-zinc-900 border border-zinc-800 text-emerald-400 dark:text-emerald-700">ip/neighbor/discovery-settings/print</span>
  command.
</p>


<!-- CODE BLOCK START -->
<div id="code-block" class="py-2">
  <div class="border-4 rounded-t-lg border-b-4 py-1 text-center font-bold font-mono border-zinc-800 dark:bg-[#1a1b26]">
    <span class="">cmd</span>
  </div>
  <div class="font-mono leading-tight">
    <pre class=""><code class="language-text hljs px-5 border-b-4 border-l-4 border-r-4 border-zinc-800 rounded-b-lg">ip/neighbor/discovery-settings/print 

 discover-interface-list: static
lldp-med-net-policy-vlan: disabled
                protocol: cdp,lldp,mndp</code></pre>
  </div>
</div>
<!-- CODE BLOCK END -->


<p>
  See the LLDP neighbors with the <span class="px-2 py-1 font-mono font-semibold break-words rounded bg-zinc-900 border border-zinc-800 text-emerald-400 dark:text-emerald-700">ip/neighbor/print</span> command.
</p>


<!-- CODE BLOCK START -->
<div id="code-block" class="py-2">
  <div class="border-4 rounded-t-lg border-b-4 py-1 text-center font-bold font-mono border-zinc-800 dark:bg-[#1a1b26]">
    <span class="">cmd</span>
  </div>
  <div class="font-mono leading-tight">
    <pre class=""><code class="language-text hljs px-5 border-b-4 border-l-4 border-r-4 border-zinc-800 rounded-b-lg">ip/neighbor/print

Columns: INTERFACE, MAC-ADDRESS, IDENTITY
#  INTERFACE  MAC-ADDRESS        IDENTITY
0  ether1     88:C9:B3:B0:DE:5F          
   bridge1                               
1  ether23    54:4B:22:11:AA:BB  sw01    
   bridge1</code></pre>
  </div>
</div>
<!-- CODE BLOCK END -->



<!-- NOTE BLOCK START -->
<div id="note-block" class="pt-2 pb-4">
  <div class="shadow-md shadow-zinc-400 bg-sky-100 rounded border-l-8 border-l-sky-900 dark:border-l-sky-600 dark:bg-sky-800 dark:shadow-none">
    <div class="px-4 pt-4 pb-2 text-sky-900 dark:text-zinc-900"><i class="far fa-check-circle" aria-hidden="true"></i><b class="pl-1.5 text-sky-900 dark:text-zinc-900">Note</b></div>
    <div class="px-4 pb-4 dark:text-zinc-900">
  Detailed output can be obtained by adding the <span class="px-2 py-1 font-mono font-semibold break-words rounded bg-sky-50 text-sky-900 border border-sky-200/50 dark:bg-zinc-900 dark:text-neutral-400 dark:border-zinc-800">detail</span> 
  keyword to the command.
</div>
  </div>
</div>
<!-- NOTE BLOCK END -->



<!-- CODE BLOCK START -->
<div id="code-block" class="py-2">
  <div class="border-4 rounded-t-lg border-b-4 py-1 text-center font-bold font-mono border-zinc-800 dark:bg-[#1a1b26]">
    <span class="">cmd</span>
  </div>
  <div class="font-mono leading-tight">
    <pre class=""><code class="language-text hljs px-5 border-b-4 border-l-4 border-r-4 border-zinc-800 rounded-b-lg">ip/neighbor/print detail
 
0 interface=ether1,bridge1 mac-address=88:C9:B3:B0:DE:5F identity="" platform="" version="" unpack=none age=2m40s 
  system-caps=other,repeater system-caps-enabled=router 

1 interface=ether23,bridge1 mac-address=54:4B:22:11:AA:BB identity="sw01" platform="" version="" unpack=none age=24s 
  interface-name="ge-0/0/7.0" system-description="Juniper Networks, Inc. ex2200-c-12p-2g Ethernet Switch, kernel 
                  JUNOS 15.1R6-S3, Build date: 2017-08-11 09:23:44 UTC Copyright (c) 1996-2017 Juniper Networks, 
                  Inc." 
  system-caps=bridge,router system-caps-enabled=bridge,router</code></pre>
  </div>
</div>
<!-- CODE BLOCK END -->


<h3 id="http-server">HTTP Server</h3>
<p>
  Generate a TLS cert to assign to the HTTPS web server. I 
  am using a self-signed cert in the below example.
</p>


<!-- CODE BLOCK START -->
<div id="code-block" class="py-2">
  <div class="border-4 rounded-t-lg border-b-4 py-1 text-center font-bold font-mono border-zinc-800 dark:bg-[#1a1b26]">
    <span class="">cmd</span>
  </div>
  <div class="font-mono leading-tight">
    <pre class=""><code class="language-text hljs px-5 border-b-4 border-l-4 border-r-4 border-zinc-800 rounded-b-lg"># Create and sign a Root Cert
certificate/add name=root-cert common-name=&lt;hostname&gt; days-valid=365 key-usage=key-cert-sign,crl-sign, key-size=4096
certificate/sign root-cert

# Create and sign a HTTPS cert
certificate/add name=https-cert common-name=&lt;hostname&gt;.&lt;domain&gt; subject-alt-name=IP:&lt;mgmt-ip&gt,DNS:&lt;hostname&gt; days-valid=365 key-usage=tls-server key-size=4096
certificate/sign ca=root-cert https-cert</code></pre>
  </div>
</div>
<!-- CODE BLOCK END -->


<p>
  Apply the certificate to the HTTP server for both the <span class="px-2 py-1 font-mono font-semibold break-words rounded bg-sky-50 text-sky-900 border border-sky-200/50 dark:bg-zinc-900 dark:text-neutral-400 dark:border-zinc-800">www-ssl</span>
  and <span class="px-2 py-1 font-mono font-semibold break-words rounded bg-sky-50 text-sky-900 border border-sky-200/50 dark:bg-zinc-900 dark:text-neutral-400 dark:border-zinc-800">api-ssl</span> services. 
</p>


<!-- CODE BLOCK START -->
<div id="code-block" class="py-2">
  <div class="border-4 rounded-t-lg border-b-4 py-1 text-center font-bold font-mono border-zinc-800 dark:bg-[#1a1b26]">
    <span class="">cmd</span>
  </div>
  <div class="font-mono leading-tight">
    <pre class=""><code class="language-text hljs px-5 border-b-4 border-l-4 border-r-4 border-zinc-800 rounded-b-lg">ip/service/set www-ssl certificate=https-cert disabled=no tls-version=only-1.2
ip/service/set api-ssl certificate=https-cert disabled=no tls-version=only-1.2</code></pre>
  </div>
</div>
<!-- CODE BLOCK END -->



<h3 id="disable-services">Disable Services</h3>
<p>
  Out of the box, device have alot of services enabled. Disable the unused/insecure ones.
</p>


<!-- CODE BLOCK START -->
<div id="code-block" class="py-2">
  <div class="border-4 rounded-t-lg border-b-4 py-1 text-center font-bold font-mono border-zinc-800 dark:bg-[#1a1b26]">
    <span class="">cmd</span>
  </div>
  <div class="font-mono leading-tight">
    <pre class=""><code class="language-text hljs px-5 border-b-4 border-l-4 border-r-4 border-zinc-800 rounded-b-lg">ip/service/disable www
ip/service/disable ftp
ip/service/disable telnet
ip/service/disable api</code></pre>
  </div>
</div>
<!-- CODE BLOCK END -->


<h3 id="service-status">Service Status</h3>
<p>
  You can view the service status with the <span class="px-2 py-1 font-mono font-semibold break-words rounded bg-zinc-900 border border-zinc-800 text-emerald-400 dark:text-emerald-700">ip/service/print</span> command.
</p>


<!-- CODE BLOCK START -->
<div id="code-block" class="py-2">
  <div class="border-4 rounded-t-lg border-b-4 py-1 text-center font-bold font-mono border-zinc-800 dark:bg-[#1a1b26]">
    <span class="">cmd</span>
  </div>
  <div class="font-mono leading-tight">
    <pre class=""><code class="language-text hljs px-5 border-b-4 border-l-4 border-r-4 border-zinc-800 rounded-b-lg">ip/service/print

Flags: X, I - INVALID
Columns: NAME, PORT, ADDRESS, CERTIFICATE, VRF
#   NAME     PORT  ADDRESS      CERTIFICATE  VRF
0 X telnet     23                             main
1 X ftp        21    
2 X www        80                             main
3   ssh        22                             main
4   www-ssl   443                https-cert   main
5 X api      8728                             main
6   winbox   8291                             main
7   api-ssl  8729                https-cert   main</code></pre>
  </div>
</div>
<!-- CODE BLOCK END -->


<h3 id="outro">Outro</h3>
<p>
  In this post I showed you how to configure common network scenarios 
  on a Mikrotik switch running Router OS. I am pretty happy with the 
  decision to go with a Mikrotik switch. For ~$350 AUD, it's a very 
  capable device that supports a ton of features.
</p>



            
  


            
  


            
  
    
  <!-- LINKS START -->
  <div class="pb-2">
    <h3 id="links" class="scrollspy">Links</h3>
      
        <p class="text-xl break-words">
          <a class="  break-words text-sky-600 no-underline hover:decoration-2 hover:underline hover:underline-offset-4" href="https://wiki.mikrotik.com/wiki/Manual:Interface/Bridge" target=_blank>https://wiki.mikrotik.com/wiki/Manual:Interface/Bridge</a>
        </p>
      
        <p class="text-xl break-words">
          <a class="  break-words text-sky-600 no-underline hover:decoration-2 hover:underline hover:underline-offset-4" href="https://wiki.mikrotik.com/wiki/Manual:Initial_Configuration#Summary" target=_blank>https://wiki.mikrotik.com/wiki/Manual:Initial_Configuration#Summary</a>
        </p>
      
        <p class="text-xl break-words">
          <a class="  break-words text-sky-600 no-underline hover:decoration-2 hover:underline hover:underline-offset-4" href="https://help.mikrotik.com/docs/display/ROS/Command+Line+Interface" target=_blank>https://help.mikrotik.com/docs/display/ROS/Command+Line+Interface</a>
        </p>
      
        <p class="text-xl break-words">
          <a class="  break-words text-sky-600 no-underline hover:decoration-2 hover:underline hover:underline-offset-4" href="https://www.timigate.com/2022/11/mikrotik-trunk-and-access-port-configuration.html" target=_blank>https://www.timigate.com/2022/11/mikrotik-trunk-and-access-port-configuration.html</a>
        </p>
      
        <p class="text-xl break-words">
          <a class="  break-words text-sky-600 no-underline hover:decoration-2 hover:underline hover:underline-offset-4" href="https://wiki.mikrotik.com/wiki/Manual:Upgrading_RouterOS" target=_blank>https://wiki.mikrotik.com/wiki/Manual:Upgrading_RouterOS</a>
        </p>
      
        <p class="text-xl break-words">
          <a class="  break-words text-sky-600 no-underline hover:decoration-2 hover:underline hover:underline-offset-4" href="https://forum.mikrotik.com/viewtopic.php?p=839603" target=_blank>https://forum.mikrotik.com/viewtopic.php?p=839603</a>
        </p>
      
        <p class="text-xl break-words">
          <a class="  break-words text-sky-600 no-underline hover:decoration-2 hover:underline hover:underline-offset-4" href="https://stubarea51.net/2019/02/06/cisco-to-mikrotik-switching-and-vlans/" target=_blank>https://stubarea51.net/2019/02/06/cisco-to-mikrotik-switching-and-vlans/</a>
        </p>
      
        <p class="text-xl break-words">
          <a class="  break-words text-sky-600 no-underline hover:decoration-2 hover:underline hover:underline-offset-4" href="https://www.ispsupplies.com/blog/creating-trunk-and-access-ports-on-mikrotik-crs3xx-series-switches" target=_blank>https://www.ispsupplies.com/blog/creating-trunk-and-access-ports-on-mikrotik-crs3xx-series-switches</a>
        </p>
      
        <p class="text-xl break-words">
          <a class="  break-words text-sky-600 no-underline hover:decoration-2 hover:underline hover:underline-offset-4" href="https://www.timigate.com/2022/11/mikrotik-trunk-and-access-port-configuration.html" target=_blank>https://www.timigate.com/2022/11/mikrotik-trunk-and-access-port-configuration.html</a>
        </p>
      
        <p class="text-xl break-words">
          <a class="  break-words text-sky-600 no-underline hover:decoration-2 hover:underline hover:underline-offset-4" href="https://wiki.mikrotik.com/wiki/Manual:Simple_Static_Routing" target=_blank>https://wiki.mikrotik.com/wiki/Manual:Simple_Static_Routing</a>
        </p>
      
        <p class="text-xl break-words">
          <a class="  break-words text-sky-600 no-underline hover:decoration-2 hover:underline hover:underline-offset-4" href="https://help.mikrotik.com/docs/display/ROS/Bridging+and+Switching" target=_blank>https://help.mikrotik.com/docs/display/ROS/Bridging+and+Switching</a>
        </p>
      
        <p class="text-xl break-words">
          <a class="  break-words text-sky-600 no-underline hover:decoration-2 hover:underline hover:underline-offset-4" href="https://forum.mikrotik.com/viewtopic.php?t=143620" target=_blank>https://forum.mikrotik.com/viewtopic.php?t=143620</a>
        </p>
      
        <p class="text-xl break-words">
          <a class="  break-words text-sky-600 no-underline hover:decoration-2 hover:underline hover:underline-offset-4" href="https://it4allsite.wordpress.com/2019/03/21/trunk-and-access-ports-on-mikrotik-switch-with-routeros/" target=_blank>https://it4allsite.wordpress.com/2019/03/21/trunk-and-access-ports-on-mikrotik-switch-with-routeros/</a>
        </p>
      
        <p class="text-xl break-words">
          <a class="  break-words text-sky-600 no-underline hover:decoration-2 hover:underline hover:underline-offset-4" href="https://help.mikrotik.com/docs/display/ROS/Serial+Console" target=_blank>https://help.mikrotik.com/docs/display/ROS/Serial+Console</a>
        </p>
      
        <p class="text-xl break-words">
          <a class="  break-words text-sky-600 no-underline hover:decoration-2 hover:underline hover:underline-offset-4" href="https://help.mikrotik.com/docs/display/ROS/Spanning+Tree+Protocol" target=_blank>https://help.mikrotik.com/docs/display/ROS/Spanning+Tree+Protocol</a>
        </p>
      
        <p class="text-xl break-words">
          <a class="  break-words text-sky-600 no-underline hover:decoration-2 hover:underline hover:underline-offset-4" href="https://help.mikrotik.com/docs/display/ROS/Management+tools" target=_blank>https://help.mikrotik.com/docs/display/ROS/Management+tools</a>
        </p>
      
  </div>
  <!-- LINKS END -->

  


            
  
    
<!-- TAGS START -->
  <div id="tags" class="scrollspy pb-2">
    <div class="flex flex-wrap justify-center">
      
        <div class="pr-2 font-semibold italic lowercase tracking-wide text-rose-600 no-underline hover:underline hover:decoration-2 hover:underline-offset-4">
          <i class="-mr-1.5 text-2xl">#</i>
          <a href="/blog/tag/#mikrotik" class="text-xl">mikrotik</a>
        </div>
      
        <div class=" font-semibold italic lowercase tracking-wide text-rose-600 no-underline hover:underline hover:decoration-2 hover:underline-offset-4">
          <i class="-mr-1.5 text-2xl">#</i>
          <a href="/blog/tag/#networking" class="text-xl">networking</a>
        </div>
      
    </div>
  </div>
<!-- TAGS END -->

  


            
  
<!-- BLANK PAGE START -->
<div id="blank-page">
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
</div>
<!-- BLANK PAGE END -->


          </div>
        </div>
        <!-- COLUMN 2 END -->

        <!-- COLUMN 3 START -->
        <div class="invisible md:visible md:col-span-3 max-h-screen sticky top-20">
          
  
    
<!-- TABLE OF CONTENTS START -->
<div id="table-of-contents" class="invisible md:visible h-4/5 overflow-y-auto">
  <div class="">
    <h5 class="">On this page</h5>
  </div>
  <div class="">
    
      
        <div class="px-1">
          <a class="menu-item font-normal text-xl text-sky-600 no-underline" href="#intro">
          Intro
          </a>
        </div>
      
    
      
        <div class="px-1">
          <a class="menu-item font-normal text-xl text-sky-600 no-underline" href="#lab-environment">
          Lab Environment
          </a>
        </div>
      
    
      
        <div class="px-1">
          <a class="menu-item font-normal text-xl text-sky-600 no-underline" href="#administration">
          Administration
          </a>
        </div>
      
    
      
        <div class="px-1">
          <a class="menu-item font-normal text-xl text-sky-600 no-underline" href="#software-update">
          Software Update
          </a>
        </div>
      
    
      
        <div class="px-1">
          <a class="menu-item font-normal text-xl text-sky-600 no-underline" href="#hostname">
          Hostname
          </a>
        </div>
      
    
      
        <div class="px-1">
          <a class="menu-item font-normal text-xl text-sky-600 no-underline" href="#bridge">
          Bridge
          </a>
        </div>
      
    
      
        <div class="px-1">
          <a class="menu-item font-normal text-xl text-sky-600 no-underline" href="#vlan">
          VLAN
          </a>
        </div>
      
    
      
        <div class="px-1">
          <a class="menu-item font-normal text-xl text-sky-600 no-underline" href="#access-port">
          Access Port
          </a>
        </div>
      
    
      
        <div class="px-1">
          <a class="menu-item font-normal text-xl text-sky-600 no-underline" href="#trunk-port">
          Trunk Port
          </a>
        </div>
      
    
      
        <div class="px-1">
          <a class="menu-item font-normal text-xl text-sky-600 no-underline" href="#vlan-interface">
          VLAN Interface
          </a>
        </div>
      
    
      
        <div class="px-1">
          <a class="menu-item font-normal text-xl text-sky-600 no-underline" href="#static-route">
          Static Route
          </a>
        </div>
      
    
      
        <div class="px-1">
          <a class="menu-item font-normal text-xl text-sky-600 no-underline" href="#dns-client">
          DNS Client
          </a>
        </div>
      
    
      
        <div class="px-1">
          <a class="menu-item font-normal text-xl text-sky-600 no-underline" href="#ntp-client">
          NTP Client
          </a>
        </div>
      
    
      
        <div class="px-1">
          <a class="menu-item font-normal text-xl text-sky-600 no-underline" href="#lldp-client">
          LLDP Client
          </a>
        </div>
      
    
      
        <div class="px-1">
          <a class="menu-item font-normal text-xl text-sky-600 no-underline" href="#http-server">
          HTTP Server
          </a>
        </div>
      
    
      
        <div class="px-1">
          <a class="menu-item font-normal text-xl text-sky-600 no-underline" href="#disable-services">
          Disable Services
          </a>
        </div>
      
    
      
        <div class="px-1">
          <a class="menu-item font-normal text-xl text-sky-600 no-underline" href="#service-status">
          Service Status
          </a>
        </div>
      
    
      
        <div class="px-1">
          <a class="menu-item font-normal text-xl text-sky-600 no-underline" href="#outro">
          Outro
          </a>
        </div>
      
    
      
        <div class="px-1">
          <a class="menu-item font-normal text-xl text-sky-600 no-underline" href="#links">
          Links
          </a>
        </div>
      
    
      
        <div class="px-1">
          <a class="menu-item font-normal text-xl text-sky-600 no-underline" href="#tags">
          Tags
          </a>
        </div>
      
      
  </div>
</div>
<!-- TABLE OF CONTENTS END -->

  

        </div>
        <!-- COLUMN 3 END -->

      </div>
      <!-- CONTENT END -->

      <!-- BACK TO TOP START -->
<div id="back-to-top" class="hidden fixed bottom-20 right-16 rounded-full font-semibold text-zinc-900 bg-neutral-400 hover:bg-neutral-100">
  <button type="button" class="">
    <i class="fas fa-arrow-circle-up fa-3x"></i>
  </button>
</div>
<!-- BACK TO TOP END -->
    </div>
  
    <!-- FOOTER START -->
<div id="footer" class="fixed inset-x-0 bottom-0">
  <div class="flex justify-center w-full py-4 bg-zinc-900 shadow-lg">
    <div class="text-center">
      <a class="px-2 font-semibold text-neutral-400 hover:text-neutral-100" href="https://twitter.com/codingpackets" target="_blank"><i class="fab fa-twitter fa-2x"></i></a>
      <a class="px-2 font-semibold text-neutral-400 hover:text-neutral-100" href="https://www.twitch.tv/codingpackets" target="_blank"><i class="fab fa-twitch fa-2x"></i></a>
      <a class="px-2 font-semibold text-neutral-400 hover:text-neutral-100" href="https://github.com/bwks" target="_blank"><i class="fab fa-github fa-2x"></i></a>
      <a class="px-2 font-semibold text-neutral-400 hover:text-neutral-100" href="/blog/feed.xml" target="_blank"><i class="fa fa-rss fa-2x"></i></a>
    </div>
  </div>
</div>
<!-- FOOTER END -->

  </body>

</html>
