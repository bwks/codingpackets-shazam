



<!DOCTYPE html>
<html lang="en" class="dark scroll-smooth scroll-pt-[4.5rem]">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    
      <link rel="shortcut icon" href="/favicon/favicon.ico" type="image/x-icon">
    
    
    
      <link rel="stylesheet" href="/css/highlightjs/highlightjs-xt256.css">
      <link rel="stylesheet" href="/css/fontawesome/css/all.min.css">
    

    
      <link rel="stylesheet" href="/css/app.css">
    

    
      <script src="/js/highlightjs/highlightjs-11.5.0.min.js"></script>
      <script src="/js/highlightjs/terraform.js"></script>
      <script defer src="/js/fontawesome/js/all.js"></script>
    

    
      <script defer src="/js/custom/back-to-top.js"></script>
      <script defer src="/js/custom/light-switch.js"></script>
    

    
      <script>
        hljs.registerLanguage('terraform', window.hljsDefineTerraform);
        hljs.highlightAll();
      </script>
    

    
    

    <title>codingpackets.com</title>
  </head>

  <body class="bg-stone-50 dark:bg-black leading-normal tracking-wide ">

    <!-- NAVBAR START -->
<nav id="navbar" class="w-full py-3 bg-zinc-900 text-xl shadow-lg fixed inset-x-0 top-0 z-50">
  <div class="flex justify-center items-center py-1">
    <div>
      <a class="text-neutral-400 hover:text-neutral-100 p-0" href="/">Me</a>
    </div>
    <div class="px-4">
      <p class="text-neutral-400 p-0">|</p>
    </div>
    <div>
      <a class="text-neutral-400 hover:text-neutral-100" href="/blog/">Blog</a>
    </div>
    <div class="px-4">
      <p class="text-neutral-400 p-0">|</p>
    </div>
    <div>
      <a class="text-neutral-400 hover:text-neutral-100" href="/blog/recent/">Recent</a>
    </div>
    <div class="px-4">
      <p class="text-neutral-400 p-0">|</p>
    </div>
    <div class="-mt-6 -ml-1">
      <labeL class="relative inline-block">
        <input type="checkbox" id="light-switch" class="opacity-0 w-0 h-0">
        <img id="light-bulb" class="opacity-90 hover:opacity-60 dark:opacity-60 dark:hover:opacity-100 p-0 w-7" src="/img/light-bulb-64-light.png" alt="on/off">
      </labeL>
    </div>
  </div>  
</nav>
<!-- NAVBAR END -->

    <div class="w-full">
      
  
    
<!-- PAGE HEADER START -->
<div id="page-header" class="pt-20 -mb-4 pb-0 px-5 text-center sm:pb-4 sm:mb-0">
  <h1 class="pb-1 sm:pb-2">Network Notes: ARP</h1>
  <div class="">
    
    
      <p class="text-neutral-400 dark:text-neutral-600 text-lg italic p-0">
        published: 30th of September 2017
      </p>
    
  </div>
</div>
<!-- PAGE HEADER END -->

  


      <!-- CONTENT START -->
      <div class="grid grid-cols-12 gap-8">

        <!-- COLUMN 1 START -->
        <div class="invisible md:visible md:col-span-3">
        </div>
        <!-- COLUMN 1 END -->

        <!-- COLUMN 2 START -->
        <div class="col-span-12 px-5 md:col-span-6">
          <div class="text-xl text-gray-800 dark:text-neutral-400 font-medium">
            

  <h3 id="overview">Overview</h3>
  <p>
    Address resolution protocol (ARP) is a method for mapping IPv4 addresses to MAC addresses. There are a few different
    flavours of ARP that have evolved over the years.
  </p>

  <h3 id="arp">ARP</h3>
  <p>
    Regular ARP maps an unknown MAC address to a known IPv4 address and is defined in
    <a class="text-sky-600 no-underline hover:text-sky-800" href="https://tools.ietf.org/html/rfc826" target=_blank>RFC826</a>.
  </p>

  <b>ARP Operation</b>
  
<!-- IMAGE START -->
<div class="pt-4 pb-6 flex justify-center">
  <img class="bg-white rounded-lg shadow-md shadow-zinc-400 dark:opacity-80 dark:shadow-none" 
     height="600px"
    src="/img/blog/arp/arp.svg" alt="blog/arp/arp.svg">
</div>
<!-- IMAGE END -->


  <h3 id="proxy-arp">Proxy ARP</h3>
  <p>
    Proxy ARP is when a device like a router that knows the MAC address of an IPv4 address in another
    broadcast domain and responds for that host. Proxy ARP is defined in
    <a class="text-sky-600 no-underline hover:text-sky-800" href="https://www.ietf.org/rfc/rfc1027.txt" target=_blank>RFC1027</a>.
  </p>

  <b>Proxy ARP Operation</b>
  <p>
    In the below example, the outside host <i class="px-2 py-0.5 font-mono font-semibold rounded bg-zinc-900 text-emerald-400 dark:text-emerald-700">10.1.1.200</i>
 is configured with a <i class="px-2 py-0.5 font-mono font-semibold rounded bg-zinc-900 text-emerald-400 dark:text-emerald-700">/24</i>
 so it believes
    it is in the same broadcast domain as the inside host on <i class="px-2 py-0.5 font-mono font-semibold rounded bg-zinc-900 text-emerald-400 dark:text-emerald-700">10.1.1.10</i>
. The outside host will not perform
    a route lookup and instead go straigt to an arp request. Since proxy arp is enabled on R1, the router will reply
    with its own mac address for <i class="px-2 py-0.5 font-mono font-semibold rounded bg-zinc-900 text-emerald-400 dark:text-emerald-700">10.1.1.10</i>
.
  </p>

  
<!-- IMAGE START -->
<div class="pt-4 pb-6 flex justify-center">
  <img class="bg-white rounded-lg shadow-md shadow-zinc-400 dark:opacity-80 dark:shadow-none" 
    width="800px" 
    src="/img/blog/arp/proxy-arp.svg" alt="blog/arp/proxy-arp.svg">
</div>
<!-- IMAGE END -->


  <h3 id="reverse-arp">Reverse ARP</h3>
  <p>
    Reverse ARP (RARP) does the opposite of ARP and maps an unknown IPv4 address to a known MAC address.
    RARP is defined in <a class="text-sky-600 no-underline hover:text-sky-800" href="https://tools.ietf.org/html/rfc903" target=_blank>RFC903</a>.
  </p>
  <p>
    RARP is replaced by DHCP in modern equipment but may still be around if working with ancient sun/solaris equipment.
  </p>

  <b>RARP Operation</b><br>
  
<!-- IMAGE START -->
<div class="pt-4 pb-6 flex justify-center">
  <img class="bg-white rounded-lg shadow-md shadow-zinc-400 dark:opacity-80 dark:shadow-none" 
    width="600px" 
    src="/img/blog/arp/rarp.svg" alt="blog/arp/rarp.svg">
</div>
<!-- IMAGE END -->


  <h3 id="gratuitous-arp">Gratuitous ARP</h3>
  <p>
    Gratuitous ARP (GARP) is used to update hosts of a MAC address change. It is used in duplicate address detection,
    first hop redundancy protocols and also man in the middle attacks to fake an IP to MAC address mapping.
    Gratuitous ARP is described in the original ARP specification
    <a class="text-sky-600 no-underline hover:text-sky-800" href="https://tools.ietf.org/html/rfc826" target=_blank>RFC826</a>.
  </p>
  <p>
    There are two types of gratuitous ARP.
  </p>
  <ul>
    <li><i class="px-2 py-0.5 font-mono font-semibold rounded bg-zinc-900 text-emerald-400 dark:text-emerald-700">GARP request</i>
 Source and destination IP set to the sending host and destination mac is ff:ff:ff:ff:ff:ff.</li>
    <li><i class="px-2 py-0.5 font-mono font-semibold rounded bg-zinc-900 text-emerald-400 dark:text-emerald-700">GARP reply</i>
 An ARP reply where no request was made. May be a broadcast or unicast.</li>
  </ul>

  <b>GARP Request</b><br>
  
<!-- IMAGE START -->
<div class="pt-4 pb-6 flex justify-center">
  <img class="bg-white rounded-lg shadow-md shadow-zinc-400 dark:opacity-80 dark:shadow-none" 
    width="600px" 
    src="/img/blog/arp/garp-request.svg" alt="blog/arp/garp-request.svg">
</div>
<!-- IMAGE END -->


  <br>

  <b>GARP Reply</b><br>
  
<!-- IMAGE START -->
<div class="pt-4 pb-6 flex justify-center">
  <img class="bg-white rounded-lg shadow-md shadow-zinc-400 dark:opacity-80 dark:shadow-none" 
    width="600px" 
    src="/img/blog/arp/garp-reply.svg" alt="blog/arp/garp-reply.svg">
</div>
<!-- IMAGE END -->


  <h3 id="packet-captures">Packet Captures</h3>
  <p>
    Various ARP PCAPs can be found
    <a class="text-sky-600 no-underline hover:text-sky-800" href="https://www.dropbox.com/sh/c0g70pxbi5l8ywo/AACs0QBF44DH66DSGHhTW1w1a?dl=0" target=_blank>here</a>.
  </p>




            
  


            
  


            
  
    
  <!-- LINKS START -->
  <div class="pb-2">
    <h3 id="links">Links</h3>
      
        <p class="text-xl">
          <a class="text-sky-600 no-underline hover:text-sky-800" href="https://tools.ietf.org/html/rfc826" target=_blank>https://tools.ietf.org/html/rfc826</a>
        </p>
      
        <p class="text-xl">
          <a class="text-sky-600 no-underline hover:text-sky-800" href="https://www.ietf.org/rfc/rfc1027.txt" target=_blank>https://www.ietf.org/rfc/rfc1027.txt</a>
        </p>
      
        <p class="text-xl">
          <a class="text-sky-600 no-underline hover:text-sky-800" href="https://tools.ietf.org/html/rfc903" target=_blank>https://tools.ietf.org/html/rfc903</a>
        </p>
      
        <p class="text-xl">
          <a class="text-sky-600 no-underline hover:text-sky-800" href="https://wiki.wireshark.org/RARP" target=_blank>https://wiki.wireshark.org/RARP</a>
        </p>
      
        <p class="text-xl">
          <a class="text-sky-600 no-underline hover:text-sky-800" href="https://wiki.wireshark.org/Gratuitous_ARP" target=_blank>https://wiki.wireshark.org/Gratuitous_ARP</a>
        </p>
      
  </div>
  <!-- LINKS END -->

  


            
  
    
<!-- TAGS START -->
  <div id="tags" class="pb-2">
    <div class="flex justify-center">
      
        <div class="pr-2 text-rose-700 hover:text-rose-900 font-semibold italic lowercase tracking-wide">
          <i class="-mr-1.5 text-2xl">#</i>
          <a href="/blog/tag/#networking" class="text-xl">networking</a>        
        </div>
      
        <div class=" text-rose-700 hover:text-rose-900 font-semibold italic lowercase tracking-wide">
          <i class="-mr-1.5 text-2xl">#</i>
          <a href="/blog/tag/#protocols" class="text-xl">protocols</a>        
        </div>
      
    </div>
  </div>
<!-- TAGS END -->

  


            
  
<!-- BLANK PAGE START -->
<div id="blank-page">
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
</div>
<!-- BLANK PAGE END -->


          </div>
        </div>
        <!-- COLUMN 2 END -->

        <!-- COLUMN 3 START -->
        <div class="invisible md:visible md:col-span-3 max-h-screen sticky top-20">
          
  
    
<!-- TABLE OF CONTENTS START -->
<div id="table-of-contents" class="invisible md:visible h-4/5 overflow-y-auto">
  <div class="">
    <i class="not-italic font-semibold text-xl dark:text-neutral-600">On this page</i>
  </div>
  <div class="">
    
      
        <div class="px-1">
          <a class="text-sky-600 font-normal text-xl no-underline hover:text-sky-800" href="#overview">
            Overview
          </a>
        </div>
      
    
      
        <div class="px-1">
          <a class="text-sky-600 font-normal text-xl no-underline hover:text-sky-800" href="#arp">
            ARP
          </a>
        </div>
      
    
      
        <div class="px-1">
          <a class="text-sky-600 font-normal text-xl no-underline hover:text-sky-800" href="#proxy-arp">
            Proxy ARP
          </a>
        </div>
      
    
      
        <div class="px-1">
          <a class="text-sky-600 font-normal text-xl no-underline hover:text-sky-800" href="#reverse-arp">
            Reverse ARP
          </a>
        </div>
      
    
      
        <div class="px-1">
          <a class="text-sky-600 font-normal text-xl no-underline hover:text-sky-800" href="#gratuitous-arp">
            Gratuitous ARP
          </a>
        </div>
      
    
      
        <div class="px-1">
          <a class="text-sky-600 font-normal text-xl no-underline hover:text-sky-800" href="#packet-captures">
            Packet Captures
          </a>
        </div>
      
    
      
        <div class="px-1">
          <a class="text-sky-600 font-normal text-xl no-underline hover:text-sky-800" href="#links">
            Links
          </a>
        </div>
      
      
  </div>
</div>
<!-- TABLE OF CONTENTS END -->

  

        </div>
        <!-- COLUMN 3 END -->

      </div>
      <!-- CONTENT END -->

      <!-- BACK TO TOP START -->
<div id="back-to-top" class="hidden fixed bottom-20 right-16 rounded-full font-semibold text-zinc-900 bg-neutral-400 hover:bg-neutral-100">
  <button type="button" class="">
    <i class="fas fa-arrow-circle-up fa-3x"></i>
  </button>
</div>
<!-- BACK TO TOP END -->
    </div>
  
    <!-- FOOTER START -->
<div id="footer" class="fixed inset-x-0 bottom-0">
  <div class="flex justify-center w-full py-4 bg-zinc-900 shadow-lg">
    <div class="text-center">
      <a class="px-2 font-semibold text-neutral-400 hover:text-neutral-100" href="https://twitter.com/codingpackets" target="_blank"><i class="fab fa-twitter fa-2x"></i></a>
      <a class="px-2 font-semibold text-neutral-400 hover:text-neutral-100" href="https://www.twitch.tv/codingpackets" target="_blank"><i class="fab fa-twitch fa-2x"></i></a>
      <a class="px-2 font-semibold text-neutral-400 hover:text-neutral-100" href="https://github.com/bwks" target="_blank"><i class="fab fa-github fa-2x"></i></a>
      <a class="px-2 font-semibold text-neutral-400 hover:text-neutral-100" href="/blog/feed.xml" target="_blank"><i class="fa fa-rss fa-2x"></i></a>
    </div>
  </div>
</div>
<!-- FOOTER END -->

  </body>

</html>
