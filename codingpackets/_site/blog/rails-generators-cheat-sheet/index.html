



<!DOCTYPE html>
<html lang="en" class="dark scroll-smooth scroll-pt-[4.5rem]">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    
      <link rel="shortcut icon" href="/favicon/favicon.ico" type="image/x-icon">
    
    
    
      <link rel="stylesheet" href="/css/highlightjs/highlightjs-xt256.css">
      <link rel="stylesheet" href="/css/fontawesome/css/all.min.css">
    

    
      <link rel="stylesheet" href="/css/app.css">
    

    
      <script src="/js/highlightjs/highlightjs-11.5.0.min.js"></script>
      <script src="/js/highlightjs/terraform.js"></script>
      <script defer src="/js/fontawesome/js/all.js"></script>
    

    
      <script defer src="/js/custom/back-to-top.js"></script>
      <script defer src="/js/custom/light-switch.js"></script>
    

    
      <script>
        hljs.registerLanguage('terraform', window.hljsDefineTerraform);
        hljs.highlightAll();
      </script>
    

    
    

    <title>codingpackets.com</title>
  </head>

  <body class="bg-stone-50 dark:bg-black tracking-wide ">

    <!-- NAVBAR START -->
<nav id="navbar" class="w-full py-3 bg-zinc-900 text-xl shadow-lg fixed inset-x-0 top-0 z-50">
  <div class="flex justify-center items-center py-1">
    <div>
      <a class="text-neutral-400 hover:text-neutral-100 p-0" href="/">Me</a>
    </div>
    <div class="px-4">
      <p class="text-neutral-400 p-0">|</p>
    </div>
    <div>
      <a class="text-neutral-400 hover:text-neutral-100" href="/blog/">Blog</a>
    </div>
    <div class="px-4">
      <p class="text-neutral-400 p-0">|</p>
    </div>
    <div>
      <a class="text-neutral-400 hover:text-neutral-100" href="/blog/recent/">Recent</a>
    </div>
    <div class="px-4">
      <p class="text-neutral-400 p-0">|</p>
    </div>
    <div class="-mt-6 -ml-1">
      <labeL class="relative inline-block">
        <input type="checkbox" id="light-switch" class="opacity-0 w-0 h-0">
        <img id="light-bulb" class="opacity-90 hover:opacity-60 dark:opacity-60 dark:hover:opacity-100 p-0 w-7" src="/img/light-bulb-64-light.png" alt="on/off">
      </labeL>
    </div>
  </div>  
</nav>
<!-- NAVBAR END -->

    <div class="w-full">
      
  
    
<!-- PAGE HEADER START -->
<div class="grid grid-cols-12 gap-8">
  <div class="invisible md:visible md:col-span-3">
  </div>

  <div class="col-span-12 px-5 md:col-span-6">
    <div id="page-header" class="pt-20 -mb-4 pb-0 px-5 text-center sm:pb-4 sm:mb-0">
      <h1 class="pb-1 sm:pb-2">Rails Generators Cheat Sheet</h1>
      <div class="">
        
          <p class="text-neutral-500 dark:text-neutral-600 text-lg italic p-0">
            updated: 6th of December 2020
          </p>
        
        
          <p class="text-neutral-500 dark:text-neutral-600 text-lg italic p-0">
            published: 3rd of December 2020
          </p>
        
      </div>
    </div>
  </div>

  <div class="invisible md:visible md:col-span-3">
  </div>
</div>
<!-- PAGE HEADER END -->

  


      <!-- CONTENT START -->
      <div class="grid grid-cols-12 gap-8">

        <!-- COLUMN 1 START -->
        <div class="invisible md:visible md:col-span-3">
        </div>
        <!-- COLUMN 1 END -->

        <!-- COLUMN 2 START -->
        <div class="col-span-12 px-5 md:col-span-6">
          <div class="text-xl text-gray-800 dark:text-neutral-400 font-medium leading-relaxed md:leading-relaxed">
            

<h3 id="overview">Overview</h3>
<p>
  As I am digging into Rails again I find myself constantly having 
  to look the naming and syntax of generators up so I am documenting them 
  in this post.
</p>
<p>
  Rails utilizes convention over configuration to speed up development 
  and increase developer happiness. If you embrace this fact you will 
  be alot happer working wih rails.
  This means that the folders are structured in a certain way and 
  the files/classes/methods need to be named to an opinionated 
  standard. This is to enforce best practices and assist with 
  auto-loading.
</p>


<!-- NOTE BLOCK START -->
<div id="note-block" class="pt-2 pb-4">
  <div class="shadow-md shadow-zinc-400 bg-sky-100 rounded border-l-8 border-l-sky-900 dark:border-l-sky-600 dark:bg-sky-800 dark:shadow-none">
    <div class="px-4 pt-4 pb-2 text-sky-900 dark:text-zinc-900"><i class="far fa-check-circle" aria-hidden="true"></i><b class="pl-1.5">Note</b></div>
    <div class="px-4 pb-4 dark:text-zinc-900">
    This post is mostly a reference for me and is not a deep dive.
    It may or may not make sense to you without some experiense 
    with Rails. 
</div>
  </div>
</div>
<!-- NOTE BLOCK END -->


<h3 id="controllers">Controllers</h3>
<h4>Naming Conventions</h4>
<p>
  <a class="text-sky-600 no-underline hover:text-sky-900" href="https://guides.rubyonrails.org/action_controller_overview.html" target=_blank>Controllers</a>
 
  favour pluralization for Controller names.
</p>
<p>
  Singular words are capitalized:
  <span class="px-2 py-1 font-mono font-semibold rounded bg-sky-50 text-sky-900 border border-sky-200/50 dark:bg-zinc-900 dark:text-neutral-400 dark:border-zinc-800">Devices</span>
.
</p>
<p>
  Multiple word controllers should use CamelCase, with 
  only the last word pluralized: <span class="px-2 py-1 font-mono font-semibold rounded bg-sky-50 text-sky-900 border border-sky-200/50 dark:bg-zinc-900 dark:text-neutral-400 dark:border-zinc-800">ServiceContracts</span>

</p>

<h4>Generators</h4>
<p>
  When using the controller generator you define the pluralized controller 
  <span class="px-2 py-1 font-mono font-semibold rounded bg-sky-50 text-sky-900 border border-sky-200/50 dark:bg-zinc-900 dark:text-neutral-400 dark:border-zinc-800">name</span>
 with an 
  optional list of <span class="px-2 py-1 font-mono font-semibold rounded bg-sky-50 text-sky-900 border border-sky-200/50 dark:bg-zinc-900 dark:text-neutral-400 dark:border-zinc-800">actions</span>
 and 
  <span class="px-2 py-1 font-mono font-semibold rounded bg-sky-50 text-sky-900 border border-sky-200/50 dark:bg-zinc-900 dark:text-neutral-400 dark:border-zinc-800">options</span>
.
</p>
<p>
  Controller generators use the following syntax.
</p>

<!-- CODE BLOCK START -->
<div id="code-block" class="pt-2 pb-4">
  <div class="rounded-lg border-4 border-zinc-900 shadow-md shadow-zinc-400 dark:shadow-none">
    <div class="py-1 text-center font-bold font-mono border-b-4 border-zinc-900">
      <span class="">cmd</span>
    </div>
    <div class="font-mono leading-tight">
      <pre><code class="language-text hljs px-5 dark:opacity-80 rounded-b">rails generate controller PluralizedName [list of actions] [list of --options]</code></pre>
    </div>
  </div>
</div>
<!-- CODE BLOCK END -->


<p>
  Controller generators create a number of files and also update the routes file.
</p>

<!-- CODE BLOCK START -->
<div id="code-block" class="pt-2 pb-4">
  <div class="rounded-lg border-4 border-zinc-900 shadow-md shadow-zinc-400 dark:shadow-none">
    <div class="py-1 text-center font-bold font-mono border-b-4 border-zinc-900">
      <span class="">cmd</span>
    </div>
    <div class="font-mono leading-tight">
      <pre><code class="language-text hljs px-5 dark:opacity-80 rounded-b">rails generate controller Devices index show
  
# output
create  app/controllers/services_controller.rb
 route  get 'services/index' get 'services/show'
create    app/views/services
create    app/views/services/index.html.erb
create    app/views/services/show.html.erb
invoke  test_unit
create    test/controllers/services_controller_test.rb
invoke  helper
create    app/helpers/services_helper.rb
invoke    test_unit
invoke  assets
invoke    css
create      app/assets/stylesheets/services.css</code></pre>
    </div>
  </div>
</div>
<!-- CODE BLOCK END -->




<!-- CODE BLOCK START -->
<div id="code-block" class="pt-2 pb-4">
  <div class="rounded-lg border-4 border-zinc-900 shadow-md shadow-zinc-400 dark:shadow-none">
    <div class="py-1 text-center font-bold font-mono border-b-4 border-zinc-900">
      <span class="">file</span>
    </div>
    <div class="font-mono leading-tight">
      <pre><code class="language-ruby hljs px-5 dark:opacity-80 rounded-b"># app/controllers/services_controller.rb
class ServicesController < ApplicationController
  def index
  end

  def show
  end
end</code></pre>
    </div>
  </div>
</div>
<!-- CODE BLOCK END -->


<h3 id="models">Models</h3>

<h4>Naming Conventions</h4>
<p>
  <a class="text-sky-600 no-underline hover:text-sky-900" href="https://guides.rubyonrails.org/active_record_basics.html" target=_blank>Models</a>
 
  favour singular words for the model name.
</p>
<p>
  Singular words are capitalized:
  <span class="px-2 py-1 font-mono font-semibold rounded bg-sky-50 text-sky-900 border border-sky-200/50 dark:bg-zinc-900 dark:text-neutral-400 dark:border-zinc-800">Device</span>
.
</p>
<p>
  Multiple word models should use CamelCase: 
  <span class="px-2 py-1 font-mono font-semibold rounded bg-sky-50 text-sky-900 border border-sky-200/50 dark:bg-zinc-900 dark:text-neutral-400 dark:border-zinc-800">ServiceContracts</span>

</p>

<h4>Model to Database Tables Naming</h4>
<p>
  Singular <span class="px-2 py-1 font-mono font-semibold rounded bg-sky-50 text-sky-900 border border-sky-200/50 dark:bg-zinc-900 dark:text-neutral-400 dark:border-zinc-800">CamelCase</span>
 model 
  names map to pluralized <span class="px-2 py-1 font-mono font-semibold rounded bg-sky-50 text-sky-900 border border-sky-200/50 dark:bg-zinc-900 dark:text-neutral-400 dark:border-zinc-800">snake_case</span>
 
  database table names.
</p>


<!-- TABLE DEFAULT START -->
<div id="table-default" class="py-2 text-xl font-mono tracking-normal">
  <div class="rounded-md shadow-md shadow-zinc-400 dark:shadow-zinc-900 overflow-auto">
    <table class="table-auto w-full">
      <thead class="text-center">
        <tr class="bg-zinc-900 text-neutral-400 dark:text-neutral-400">
        
          
            <th class="py-1 px-2 border-b border-r border-zinc-800">Model</th>
          
        
          
            <th class="py-1 px-2 border-b border-zinc-800">DB Table</th>
          
        
        </tr>
      </thead>
      <tbody>
      
        
        
          <tr class="border-b border-zinc-800">
        
          
            
              <td class="px-2 pt-1 pb-2 border-r border-zinc-800">Device </td>
            
          
            
              <td class="px-2 pt-1 pb-2 border-l border-zinc-800"> devices</td>
            
          
        </tr>
      
        
        
          <tr class="">
        
          
            
              <td class="px-2 pt-1 pb-2 border-r border-zinc-800">ServiceContract </td>
            
          
            
              <td class="px-2 pt-1 pb-2 border-l border-zinc-800"> service_contracts</td>
            
          
        </tr>
      
      </tbody>
    </table>
  </div>
</div>
<!-- TABLE DEFAULT END -->


<h4>Generators</h4>
  When using the model generator you define the singular model 
  <span class="px-2 py-1 font-mono font-semibold rounded bg-sky-50 text-sky-900 border border-sky-200/50 dark:bg-zinc-900 dark:text-neutral-400 dark:border-zinc-800">name</span>
 with an 
  optional list of <span class="px-2 py-1 font-mono font-semibold rounded bg-sky-50 text-sky-900 border border-sky-200/50 dark:bg-zinc-900 dark:text-neutral-400 dark:border-zinc-800">field:type</span>
 references and 
  <span class="px-2 py-1 font-mono font-semibold rounded bg-sky-50 text-sky-900 border border-sky-200/50 dark:bg-zinc-900 dark:text-neutral-400 dark:border-zinc-800">options</span>
.  

<p>
  The list of supported types can be found 
  <a class="text-sky-600 no-underline hover:text-sky-900" href="https://api.rubyonrails.org/classes/ActiveRecord/ConnectionAdapters/SchemaStatements.html#method-i-add_column" target=_blank>here</a>
.
</p>
<p>
  Model generators use the following syntax
</p>

<!-- CODE BLOCK START -->
<div id="code-block" class="pt-2 pb-4">
  <div class="rounded-lg border-4 border-zinc-900 shadow-md shadow-zinc-400 dark:shadow-none">
    <div class="py-1 text-center font-bold font-mono border-b-4 border-zinc-900">
      <span class="">cmd</span>
    </div>
    <div class="font-mono leading-tight">
      <pre><code class="language-text hljs px-5 dark:opacity-80 rounded-b">rails generate model SingularName [list of field[:type][:index]] [list of --options]</code></pre>
    </div>
  </div>
</div>
<!-- CODE BLOCK END -->


<p>
  Model generators create a model file as well as the database migration file.
</p>

<!-- CODE BLOCK START -->
<div id="code-block" class="pt-2 pb-4">
  <div class="rounded-lg border-4 border-zinc-900 shadow-md shadow-zinc-400 dark:shadow-none">
    <div class="py-1 text-center font-bold font-mono border-b-4 border-zinc-900">
      <span class="">cmd</span>
    </div>
    <div class="font-mono leading-tight">
      <pre><code class="language-text hljs px-5 dark:opacity-80 rounded-b">rails generate model Device name:string description:text</code></pre>
    </div>
  </div>
</div>
<!-- CODE BLOCK END -->


<p>

</p>

<!-- CODE BLOCK START -->
<div id="code-block" class="pt-2 pb-4">
  <div class="rounded-lg border-4 border-zinc-900 shadow-md shadow-zinc-400 dark:shadow-none">
    <div class="py-1 text-center font-bold font-mono border-b-4 border-zinc-900">
      <span class="">file</span>
    </div>
    <div class="font-mono leading-tight">
      <pre><code class="language-ruby hljs px-5 dark:opacity-80 rounded-b"># app/models/role.rb
class Role < ApplicationRecord
end</code></pre>
    </div>
  </div>
</div>
<!-- CODE BLOCK END -->



<!-- CODE BLOCK START -->
<div id="code-block" class="pt-2 pb-4">
  <div class="rounded-lg border-4 border-zinc-900 shadow-md shadow-zinc-400 dark:shadow-none">
    <div class="py-1 text-center font-bold font-mono border-b-4 border-zinc-900">
      <span class="">file</span>
    </div>
    <div class="font-mono leading-tight">
      <pre><code class="language-ruby hljs px-5 dark:opacity-80 rounded-b"># db/migrate/&lt;timestamp&gt;_create_roles.rb 
class CreateRoles < ActiveRecord::Migration[6.0]
  def change
    create_table :roles do |t|
      t.string :name
      t.text :description

      t.timestamps
    end
  end
end</code></pre>
    </div>
  </div>
</div>
<!-- CODE BLOCK END -->


<h3 id="migrations">Migrations</h3>

<h4>Naming Conventions</h4>
<p>
  Migrations names should use CamelCase: 
  <span class="px-2 py-1 font-mono font-semibold rounded bg-sky-50 text-sky-900 border border-sky-200/50 dark:bg-zinc-900 dark:text-neutral-400 dark:border-zinc-800">CreateMacAddressTable</span>

</p>

<h4>Generators</h4>
<p>
  <a class="text-sky-600 no-underline hover:text-sky-900" href="https://guides.rubyonrails.org/active_record_migrations.html" target=_blank>Migrations</a>

  generators have some special conventions that allow for conventient 
  creation of migration files.
</p>

<p>
  Migration generators use the following syntax.
</p>

<!-- CODE BLOCK START -->
<div id="code-block" class="pt-2 pb-4">
  <div class="rounded-lg border-4 border-zinc-900 shadow-md shadow-zinc-400 dark:shadow-none">
    <div class="py-1 text-center font-bold font-mono border-b-4 border-zinc-900">
      <span class="">cmd</span>
    </div>
    <div class="font-mono leading-tight">
      <pre><code class="language-text hljs px-5 dark:opacity-80 rounded-b">rails generate migration NAME [list of field[:type][:index]] [list of --options]</code></pre>
    </div>
  </div>
</div>
<!-- CODE BLOCK END -->


<h4>Create a Table</h4>
<p>
  Create a complete migration with the following command.
</p>

<!-- CODE BLOCK START -->
<div id="code-block" class="pt-2 pb-4">
  <div class="rounded-lg border-4 border-zinc-900 shadow-md shadow-zinc-400 dark:shadow-none">
    <div class="py-1 text-center font-bold font-mono border-b-4 border-zinc-900">
      <span class="">cmd</span>
    </div>
    <div class="font-mono leading-tight">
      <pre><code class="language-text hljs px-5 dark:opacity-80 rounded-b">rails generate migration CreateMacAddresses mac_address:macaddr description:string</code></pre>
    </div>
  </div>
</div>
<!-- CODE BLOCK END -->

<p>
  This generates the following migration file.
</p>

<!-- CODE BLOCK START -->
<div id="code-block" class="pt-2 pb-4">
  <div class="rounded-lg border-4 border-zinc-900 shadow-md shadow-zinc-400 dark:shadow-none">
    <div class="py-1 text-center font-bold font-mono border-b-4 border-zinc-900">
      <span class="">file</span>
    </div>
    <div class="font-mono leading-tight">
      <pre><code class="language-ruby hljs px-5 dark:opacity-80 rounded-b"># db/migrate/&lt;timestamp&gt;_create_mac_addresses.rb 
class CreateMacAddresses < ActiveRecord::Migration[6.0]
  def change
    create_table :mac_addresses do |t|
      t.macaddr :mac_address
      t.string :description
    end
  end
end</code></pre>
    </div>
  </div>
</div>
<!-- CODE BLOCK END -->


<h4>Add a Column</h4>
<p>
  If the migration name includes the phrase 
  <span class="px-2 py-1 font-mono font-semibold rounded bg-sky-50 text-sky-900 border border-sky-200/50 dark:bg-zinc-900 dark:text-neutral-400 dark:border-zinc-800">Add<i>Column</i>To<i>Table</i></span>
 and is 
  followed by a list of <span class="px-2 py-1 font-mono font-semibold rounded bg-sky-50 text-sky-900 border border-sky-200/50 dark:bg-zinc-900 dark:text-neutral-400 dark:border-zinc-800">name:type</span>

  values a complete migration will be generated.
  

<!-- CODE BLOCK START -->
<div id="code-block" class="pt-2 pb-4">
  <div class="rounded-lg border-4 border-zinc-900 shadow-md shadow-zinc-400 dark:shadow-none">
    <div class="py-1 text-center font-bold font-mono border-b-4 border-zinc-900">
      <span class="">cmd</span>
    </div>
    <div class="font-mono leading-tight">
      <pre><code class="language-text hljs px-5 dark:opacity-80 rounded-b">rails generate migration AddDescriptionToRoles description:text</code></pre>
    </div>
  </div>
</div>
<!-- CODE BLOCK END -->

<p>
  This generates the following migration file.
</p>

<!-- CODE BLOCK START -->
<div id="code-block" class="pt-2 pb-4">
  <div class="rounded-lg border-4 border-zinc-900 shadow-md shadow-zinc-400 dark:shadow-none">
    <div class="py-1 text-center font-bold font-mono border-b-4 border-zinc-900">
      <span class="">file</span>
    </div>
    <div class="font-mono leading-tight">
      <pre><code class="language-ruby hljs px-5 dark:opacity-80 rounded-b"># db/migrate/&lt;timestamp&gt;_add_description_to_roles.rb 
class AddDescriptionToRoles < ActiveRecord::Migration[6.0]
  def change
    add_column :roles, :description, :text
  end
end</code></pre>
    </div>
  </div>
</div>
<!-- CODE BLOCK END -->


<h4>Remove a Column</h4>
<p>
  If the migration name includes the phrase 
  <span class="px-2 py-1 font-mono font-semibold rounded bg-sky-50 text-sky-900 border border-sky-200/50 dark:bg-zinc-900 dark:text-neutral-400 dark:border-zinc-800">Remove<i>Column</i>From<i>Table</i></span>
 and is 
  followed by a list of <span class="px-2 py-1 font-mono font-semibold rounded bg-sky-50 text-sky-900 border border-sky-200/50 dark:bg-zinc-900 dark:text-neutral-400 dark:border-zinc-800">name:type</span>

  values a complete migration will be generated.
  

<!-- CODE BLOCK START -->
<div id="code-block" class="pt-2 pb-4">
  <div class="rounded-lg border-4 border-zinc-900 shadow-md shadow-zinc-400 dark:shadow-none">
    <div class="py-1 text-center font-bold font-mono border-b-4 border-zinc-900">
      <span class="">cmd</span>
    </div>
    <div class="font-mono leading-tight">
      <pre><code class="language-text hljs px-5 dark:opacity-80 rounded-b">rails generate migration RemoveDescriptionFromRoles description:text</code></pre>
    </div>
  </div>
</div>
<!-- CODE BLOCK END -->

<p>
  This generates the following migration file.
</p>

<!-- CODE BLOCK START -->
<div id="code-block" class="pt-2 pb-4">
  <div class="rounded-lg border-4 border-zinc-900 shadow-md shadow-zinc-400 dark:shadow-none">
    <div class="py-1 text-center font-bold font-mono border-b-4 border-zinc-900">
      <span class="">file</span>
    </div>
    <div class="font-mono leading-tight">
      <pre><code class="language-ruby hljs px-5 dark:opacity-80 rounded-b"># db/migrate/&lt;timestamp&gt;_remove_description_from_roles.rb 
class RemoveDescriptionFromRoles < ActiveRecord::Migration[6.0]
  def change
    remove_column :roles, :description, :text
  end
end</code></pre>
    </div>
  </div>
</div>
<!-- CODE BLOCK END -->




<h4>Rename a Column</h4>
<p>
  First create a migration
</p>

<!-- CODE BLOCK START -->
<div id="code-block" class="pt-2 pb-4">
  <div class="rounded-lg border-4 border-zinc-900 shadow-md shadow-zinc-400 dark:shadow-none">
    <div class="py-1 text-center font-bold font-mono border-b-4 border-zinc-900">
      <span class="">cmd</span>
    </div>
    <div class="font-mono leading-tight">
      <pre><code class="language-text hljs px-5 dark:opacity-80 rounded-b">rails generate migration ChangeMacAddressesColumn</code></pre>
    </div>
  </div>
</div>
<!-- CODE BLOCK END -->

<p>
  The above command will generate an empty change migration file. Add the 
  following code to rename the column. <br>
  <span class="px-2 py-1 font-mono font-semibold rounded bg-zinc-900 border border-zinc-800 text-emerald-400 dark:text-emerald-700">rename_column :table_name, :old_column_name, :new_column_name</span>

</p>

<!-- CODE BLOCK START -->
<div id="code-block" class="pt-2 pb-4">
  <div class="rounded-lg border-4 border-zinc-900 shadow-md shadow-zinc-400 dark:shadow-none">
    <div class="py-1 text-center font-bold font-mono border-b-4 border-zinc-900">
      <span class="">file</span>
    </div>
    <div class="font-mono leading-tight">
      <pre><code class="language-ruby hljs px-5 dark:opacity-80 rounded-b"># db/migrate/&lt;timestamp&gt;_change_mac_addresses_column.rb 
class ChangeMacAddressesColumn < ActiveRecord::Migration[6.0]
  def change
    rename_column :mac_addresses, :mac, :mac_address
  end
end</code></pre>
    </div>
  </div>
</div>
<!-- CODE BLOCK END -->



<h4>One to Many Association</h4>
<p>
  Create a migration to associate rooms with a site. 
</p>

<!-- CODE BLOCK START -->
<div id="code-block" class="pt-2 pb-4">
  <div class="rounded-lg border-4 border-zinc-900 shadow-md shadow-zinc-400 dark:shadow-none">
    <div class="py-1 text-center font-bold font-mono border-b-4 border-zinc-900">
      <span class="">cmd</span>
    </div>
    <div class="font-mono leading-tight">
      <pre><code class="language-text hljs px-5 dark:opacity-80 rounded-b">rails generate migration AddAssociationToRooms site:references</code></pre>
    </div>
  </div>
</div>
<!-- CODE BLOCK END -->

<p>
  The following completed migration will be generated.
</p>

<!-- CODE BLOCK START -->
<div id="code-block" class="pt-2 pb-4">
  <div class="rounded-lg border-4 border-zinc-900 shadow-md shadow-zinc-400 dark:shadow-none">
    <div class="py-1 text-center font-bold font-mono border-b-4 border-zinc-900">
      <span class="">file</span>
    </div>
    <div class="font-mono leading-tight">
      <pre><code class="language-ruby hljs px-5 dark:opacity-80 rounded-b"># db/migrate/&lt;timestamp&gt;_add_association_to_rooms.rb 
class AddAssociationToRooms < ActiveRecord::Migration[6.0]
  def change
    add_reference :rooms, :site, null: false, foreign_key: true
  end
end</code></pre>
    </div>
  </div>
</div>
<!-- CODE BLOCK END -->


<p>
  Now you need to update the models with the <span class="px-2 py-1 font-mono font-semibold rounded bg-zinc-900 border border-zinc-800 text-emerald-400 dark:text-emerald-700">has_many</span>

  and <span class="px-2 py-1 font-mono font-semibold rounded bg-zinc-900 border border-zinc-800 text-emerald-400 dark:text-emerald-700">belongs_to</span>
 properties.
</p>

<p>
  A site <span class="px-2 py-1 font-mono font-semibold rounded bg-sky-50 text-sky-900 border border-sky-200/50 dark:bg-zinc-900 dark:text-neutral-400 dark:border-zinc-800">has_many</span>
 rooms (plural)
</p>


<!-- CODE BLOCK START -->
<div id="code-block" class="pt-2 pb-4">
  <div class="rounded-lg border-4 border-zinc-900 shadow-md shadow-zinc-400 dark:shadow-none">
    <div class="py-1 text-center font-bold font-mono border-b-4 border-zinc-900">
      <span class="">file</span>
    </div>
    <div class="font-mono leading-tight">
      <pre><code class="language-ruby hljs px-5 dark:opacity-80 rounded-b"># db/models/site.rb 
class Site < ApplicationRecord
  has_many :rooms, dependent: :destroy
end</code></pre>
    </div>
  </div>
</div>
<!-- CODE BLOCK END -->


<p>
  A room <span class="px-2 py-1 font-mono font-semibold rounded bg-sky-50 text-sky-900 border border-sky-200/50 dark:bg-zinc-900 dark:text-neutral-400 dark:border-zinc-800">belongs_to</span>
 a site (singular).
</p>


<!-- CODE BLOCK START -->
<div id="code-block" class="pt-2 pb-4">
  <div class="rounded-lg border-4 border-zinc-900 shadow-md shadow-zinc-400 dark:shadow-none">
    <div class="py-1 text-center font-bold font-mono border-b-4 border-zinc-900">
      <span class="">file</span>
    </div>
    <div class="font-mono leading-tight">
      <pre><code class="language-ruby hljs px-5 dark:opacity-80 rounded-b"># db/models/room.rb 
class Room < ApplicationRecord
  belongs_to :site
end</code></pre>
    </div>
  </div>
</div>
<!-- CODE BLOCK END -->



<h4>Delete a Table</h4>
<p>
  First create a migration
</p>

<!-- CODE BLOCK START -->
<div id="code-block" class="pt-2 pb-4">
  <div class="rounded-lg border-4 border-zinc-900 shadow-md shadow-zinc-400 dark:shadow-none">
    <div class="py-1 text-center font-bold font-mono border-b-4 border-zinc-900">
      <span class="">cmd</span>
    </div>
    <div class="font-mono leading-tight">
      <pre><code class="language-text hljs px-5 dark:opacity-80 rounded-b">rails generate migration DropRoles</code></pre>
    </div>
  </div>
</div>
<!-- CODE BLOCK END -->

<p>
  The above command will generate an empty change migration file. Add the 
  following code to rename the column. <br>
  <span class="px-2 py-1 font-mono font-semibold rounded bg-zinc-900 border border-zinc-800 text-emerald-400 dark:text-emerald-700">drop_table :table_name</span>

</p>

<!-- CODE BLOCK START -->
<div id="code-block" class="pt-2 pb-4">
  <div class="rounded-lg border-4 border-zinc-900 shadow-md shadow-zinc-400 dark:shadow-none">
    <div class="py-1 text-center font-bold font-mono border-b-4 border-zinc-900">
      <span class="">file</span>
    </div>
    <div class="font-mono leading-tight">
      <pre><code class="language-ruby hljs px-5 dark:opacity-80 rounded-b"># db/migrate/&lt;timestamp&gt;_drop_table.rb 
class DropRoles < ActiveRecord::Migration[6.0]
  def change
    drop_table :roles
  end
end</code></pre>
    </div>
  </div>
</div>
<!-- CODE BLOCK END -->


<h3 id="reverse-a-generator">Reverse a Generator</h3>
<p>
  Reversing a generator is possible using the following command.
</p>

<!-- CODE BLOCK START -->
<div id="code-block" class="pt-2 pb-4">
  <div class="rounded-lg border-4 border-zinc-900 shadow-md shadow-zinc-400 dark:shadow-none">
    <div class="py-1 text-center font-bold font-mono border-b-4 border-zinc-900">
      <span class="">cmd</span>
    </div>
    <div class="font-mono leading-tight">
      <pre><code class="language-text hljs px-5 dark:opacity-80 rounded-b">rails destroy GENERATOR [args] [options]</code></pre>
    </div>
  </div>
</div>
<!-- CODE BLOCK END -->


<p>
  Some examples below.
</p>

<!-- CODE BLOCK START -->
<div id="code-block" class="pt-2 pb-4">
  <div class="rounded-lg border-4 border-zinc-900 shadow-md shadow-zinc-400 dark:shadow-none">
    <div class="py-1 text-center font-bold font-mono border-b-4 border-zinc-900">
      <span class="">cmd</span>
    </div>
    <div class="font-mono leading-tight">
      <pre><code class="language-text hljs px-5 dark:opacity-80 rounded-b">rails destroy controller Devices
rails destroy model Device
rails destroy migration AddDescriptionToDevices</code></pre>
    </div>
  </div>
</div>
<!-- CODE BLOCK END -->


<h3 id="outro">Outro</h3>
<p>
  Rails generators are super powerful. Use them responsibily.
</p>


            
  


            
  


            
  
    
  <!-- LINKS START -->
  <div class="pb-2">
    <h3 id="links">Links</h3>
      
        <p class="text-xl">
          <a class="text-sky-600 no-underline hover:text-sky-900" href="https://guides.rubyonrails.org/getting_started.html" target=_blank>https://guides.rubyonrails.org/getting_started.html</a>
        </p>
      
        <p class="text-xl">
          <a class="text-sky-600 no-underline hover:text-sky-900" href="https://guides.rubyonrails.org/association_basics.html" target=_blank>https://guides.rubyonrails.org/association_basics.html</a>
        </p>
      
        <p class="text-xl">
          <a class="text-sky-600 no-underline hover:text-sky-900" href="https://guides.rubyonrails.org/action_controller_overview.html" target=_blank>https://guides.rubyonrails.org/action_controller_overview.html</a>
        </p>
      
        <p class="text-xl">
          <a class="text-sky-600 no-underline hover:text-sky-900" href="https://devtut.github.io/rubyonrails/naming-conventions.html" target=_blank>https://devtut.github.io/rubyonrails/naming-conventions.html</a>
        </p>
      
        <p class="text-xl">
          <a class="text-sky-600 no-underline hover:text-sky-900" href="https://medium.com/nerd-for-tech/rails-generators-cheat-sheet-61e2e58b7be7" target=_blank>https://medium.com/nerd-for-tech/rails-generators-cheat-sheet-61e2e58b7be7</a>
        </p>
      
        <p class="text-xl">
          <a class="text-sky-600 no-underline hover:text-sky-900" href="https://medium.com/@kevinyckim33/rails-generators-cli-cheatsheet-711295e7a1ed" target=_blank>https://medium.com/@kevinyckim33/rails-generators-cli-cheatsheet-711295e7a1ed</a>
        </p>
      
        <p class="text-xl">
          <a class="text-sky-600 no-underline hover:text-sky-900" href="https://blog.yechiel.me/generating-belongs-to-associations-in-rails-be7b7fdea96c" target=_blank>https://blog.yechiel.me/generating-belongs-to-associations-in-rails-be7b7fdea96c</a>
        </p>
      
  </div>
  <!-- LINKS END -->

  


            
  
    
<!-- TAGS START -->
  <div id="tags" class="pb-2">
    <div class="flex flex-wrap justify-center">
      
        <div class="pr-2 text-rose-700 hover:text-rose-900 font-semibold italic lowercase tracking-wide">
          <i class="-mr-1.5 text-2xl">#</i>
          <a href="/blog/tag/#rails" class="text-xl">rails</a>        
        </div>
      
        <div class=" text-rose-700 hover:text-rose-900 font-semibold italic lowercase tracking-wide">
          <i class="-mr-1.5 text-2xl">#</i>
          <a href="/blog/tag/#ruby" class="text-xl">ruby</a>        
        </div>
      
    </div>
  </div>
<!-- TAGS END -->

  


            
  
<!-- BLANK PAGE START -->
<div id="blank-page">
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
    <br>
  
</div>
<!-- BLANK PAGE END -->


          </div>
        </div>
        <!-- COLUMN 2 END -->

        <!-- COLUMN 3 START -->
        <div class="invisible md:visible md:col-span-3 max-h-screen sticky top-20">
          
  
    
<!-- TABLE OF CONTENTS START -->
<div id="table-of-contents" class="invisible md:visible h-4/5 overflow-y-auto">
  <div class="">
    <h5 class="">On this page</h5>
  </div>
  <div class="">
    
      
        <div class="px-1">
          <a class="text-sky-600 font-normal text-xl no-underline hover:text-sky-800" href="#overview">
            Overview
          </a>
        </div>
      
    
      
        <div class="px-1">
          <a class="text-sky-600 font-normal text-xl no-underline hover:text-sky-800" href="#controllers">
            Controllers
          </a>
        </div>
      
    
      
        <div class="px-1">
          <a class="text-sky-600 font-normal text-xl no-underline hover:text-sky-800" href="#models">
            Models
          </a>
        </div>
      
    
      
        <div class="px-1">
          <a class="text-sky-600 font-normal text-xl no-underline hover:text-sky-800" href="#migrations">
            Migrations
          </a>
        </div>
      
    
      
        <div class="px-1">
          <a class="text-sky-600 font-normal text-xl no-underline hover:text-sky-800" href="#reverse-a-generator">
            Reverse a Generator
          </a>
        </div>
      
    
      
        <div class="px-1">
          <a class="text-sky-600 font-normal text-xl no-underline hover:text-sky-800" href="#outro">
            Outro
          </a>
        </div>
      
    
      
        <div class="px-1">
          <a class="text-sky-600 font-normal text-xl no-underline hover:text-sky-800" href="#links">
            Links
          </a>
        </div>
      
    
      
        <div class="px-1">
          <a class="text-sky-600 font-normal text-xl no-underline hover:text-sky-800" href="#tags">
            Tags
          </a>
        </div>
      
      
  </div>
</div>
<!-- TABLE OF CONTENTS END -->

  

        </div>
        <!-- COLUMN 3 END -->

      </div>
      <!-- CONTENT END -->

      <!-- BACK TO TOP START -->
<div id="back-to-top" class="hidden fixed bottom-20 right-16 rounded-full font-semibold text-zinc-900 bg-neutral-400 hover:bg-neutral-100">
  <button type="button" class="">
    <i class="fas fa-arrow-circle-up fa-3x"></i>
  </button>
</div>
<!-- BACK TO TOP END -->
    </div>
  
    <!-- FOOTER START -->
<div id="footer" class="fixed inset-x-0 bottom-0">
  <div class="flex justify-center w-full py-4 bg-zinc-900 shadow-lg">
    <div class="text-center">
      <a class="px-2 font-semibold text-neutral-400 hover:text-neutral-100" href="https://twitter.com/codingpackets" target="_blank"><i class="fab fa-twitter fa-2x"></i></a>
      <a class="px-2 font-semibold text-neutral-400 hover:text-neutral-100" href="https://www.twitch.tv/codingpackets" target="_blank"><i class="fab fa-twitch fa-2x"></i></a>
      <a class="px-2 font-semibold text-neutral-400 hover:text-neutral-100" href="https://github.com/bwks" target="_blank"><i class="fab fa-github fa-2x"></i></a>
      <a class="px-2 font-semibold text-neutral-400 hover:text-neutral-100" href="/blog/feed.xml" target="_blank"><i class="fa fa-rss fa-2x"></i></a>
    </div>
  </div>
</div>
<!-- FOOTER END -->

  </body>

</html>
